<!DOCTYPE html>
<html>
<head>
    <title>Vasıta Form Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .test-result { margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 3px; }
        .pass { color: green; }
        .fail { color: red; }
        button { padding: 10px 15px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Vasıta Form Alan Testi</h1>
    
    <div class="test-section">
        <h2>Test Senaryoları</h2>
        <p>Aşağıdaki testleri yapmak için varsagel.com'da vasıta talebi oluşturun:</p>
        
        <h3>Test 1: Farklı Değerler Girişi</h3>
        <ol>
            <li>Yıl Min: 2020</li>
            <li>Yıl Max: 2024</li>
            <li>KM Min: 50000</li>
            <li>KM Max: 150000</li>
        </ol>
        <p><strong>Beklenen:</strong> Her alan kendi değerini göstermeli</p>
        <p><strong>Sorun:</strong> Tüm alanlarda aynı değer görünüyor</p>
        
        <h3>Test 2: Console Kontrolü</h3>
        <p>Browser console'unda şu debug mesajlarını kontrol edin:</p>
        <ul>
            <li><code>DEBUG: Field mapping - label: Yıl, type: range-number, id: r:yilMin:yilMax</code></li>
            <li><code>DEBUG: Min field onChange - key: yilMin, value: 2020</code></li>
            <li><code>DEBUG: Max field onChange - key: yilMax, value: 2024</code></li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Olası Sorunlar</h2>
        <div class="test-result">
            <h4>1. Field Key Mapping Sorunu</h4>
            <p>onChange handler'ında yanlış key kullanımı olabilir.</p>
        </div>
        
        <div class="test-result">
            <h4>2. State Update Sorunu</h4>
            <p>handleAttributeChange fonksiyonunda tüm alanları aynı değere set eden bir hata olabilir.</p>
        </div>
        
        <div class="test-result">
            <h4>3. Input Value Binding Sorunu</h4>
            <p>value={attributes[f.minKey!] ?? ''} ifadesinde yanlış key kullanımı olabilir.</p>
        </div>
    </div>

    <div class="test-section">
        <h2>Çözüm Aşaması</h2>
        <p>Debug logging eklendi. Şimdi formu test edip console'da ne olduğunu göreceğiz.</p>
        
        <button onclick="window.open('https://www.varsagel.com/talep-olustur?category=vasita', '_blank')">
            Vasıta Talebi Oluştur (Yeni Sekme)
        </button>
        
        <button onclick="window.open('https://www.varsagel.com/talep-olustur?category=vasita', '_self')">
            Vasıta Talebi Oluştur (Aynı Sekme)
        </button>
    </div>

    <script>
        // Auto-redirect to the form after 5 seconds
        setTimeout(() => {
            window.location.href = 'https://www.varsagel.com/talep-olustur?category=vasita';
        }, 5000);
    </script>
</body>
</html>